!function(d){var e={init:function(a){d(this).empty(),d(this).off("click","#hpage a");var e={elem:d(this),counts:0,curr:1,offset:15},i=d.extend({},e,a);if(i.pages=Math.ceil(i.counts/i.offset),i.pages<2)return this;i.limit=9<i.pages?9:i.pages;for(var l='<ul id="hpage" class="pagination"><li class="disabled"><a href="javascript:;" data-index="first">首页</a></li><li class="disabled"><a href="javascript:;" data-index="prev">«</a></li><li class="active"><a href="javascript:;" data-index="1">1</a></li>',t=2;t<=i.limit;t++)l+='<li><a href="javascript:;" data-index="'+t+'">'+t+"</a></li>";l+='<li><a href="javascript:;" data-index="next">»</a></li><li><a href="javascript:;" data-index="last">尾页</a></li></ul>',i.elem.html(l),i.elem.hPage("method",i)},method:function(e){d(this).on("click","#hpage a",function(){var a=d(this).attr("data-index");switch(e.index=d("#hpage a").index(d(this)),d("#hpage li").removeClass("active disabled"),a){case"first":1!=e.curr&&(e.curr=1,e.callback(e)),e.elem.hPage("update",e);break;case"prev":1<e.curr&&(e.curr--,e.callback(e)),e.elem.hPage("update",e);break;case"next":e.curr<e.pages&&(e.curr++,e.callback(e)),e.elem.hPage("update",e);break;case"last":e.curr!=e.pages&&(e.curr=e.pages,e.callback(e)),e.elem.hPage("update",e);break;default:e.curr=1*a,e.callback(e),e.elem.hPage("update",e)}})},update:function(a){var e=a.curr,i=a.index,l=1,t=a.pages,s="";9<a.pages?(l=0<e-5?e-4:1,t=e+4>a.pages?a.pages:e+4,0==i&&(l=1,t=9),12==i&&(l=a.pages-8,t=a.pages),1<i&&i<7||11==i&&e<=a.pages-5||e<=5?(i=e-l+2,t=l+8):(7<=i&&i<11||1==i&&e<=a.pages-5||e>a.pages-5)&&(i=e-t+10,l=t-8)):(l=1,t=a.pages,(1==i&&1!=e||i==a.limit+2&&e!=a.pages)&&(i=e+1)),s+='<ul id="hpage" class="pagination"><li ><a href="javascript:;" data-index="first">首页</a></li><li ><a href="javascript:;" data-index="prev">«</a></li>';for(var r=l;r<=t;r++)s+='<li><a href="javascript:;" data-index="'+r+'">'+r+"</a></li>";s+='<li><a href="javascript:;" data-index="next">»</a></li><li><a href="javascript:;" data-index="last">尾页</a></li></ul>',a.elem.html(s),1<i&&i<=a.pages&&d("#hpage li").eq(i).addClass("active"),1!=e&&0!=i||(d("#hpage li").eq(2).addClass("active"),d("#hpage li").eq(0).addClass("disabled"),d("#hpage li").eq(1).addClass("disabled")),e!=a.pages&&i!=a.limit+2||(d("#hpage li").eq(a.limit+1).addClass("active"),d("#hpage li").eq(a.limit+2).addClass("disabled"),d("#hpage li").eq(a.limit+3).addClass("disabled"))}};d.fn.hPage=function(){var a=arguments[0];return e[a]?(a=e[a],arguments=Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?d.error("Method"+a+"does not exist no jQuery.hPage"):a=e.init,a.apply(this,arguments)}}(jQuery);